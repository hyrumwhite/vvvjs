var u=(t,n=[])=>{for(let e of n)typeof e=="string"&&(e=document.createTextNode(e)),t.appendChild(e)},h=(t,n)=>{let e=null;t instanceof Element?e=t:t=="fragment"?e=document.createDocumentFragment():e=document.createElement(t),e.v_listeners=[];let i=null;typeof n=="string"&&(n={textContent:n}),n instanceof Array&&(n={children:n});for(let o in n){let r=n[o];if(o==="parentElement")typeof r=="string"&&(r=document.querySelector(r)),i=r;else if(o==="shadowHost")typeof r=="string"&&(r=document.querySelector(r)),i=r.attachShadow({mode:"open",delegatesFocus:r.getAttribute("delegates-focus")==="true"});else if(o==="defineProperties")Object.defineProperties(e,r);else if(o==="style"&&typeof r=="object")Object.assign(e.style,r);else if(o==="children")u(e,r);else if(o==="shadowChildren"){let l=e.attachShadow({mode:"open",delegatesFocus:n.delegatesFocus===!0});u(l,r)}else typeof r=="function"?(e.addEventListener(o,r),e.v_listeners.push({prop:o,listener:r})):o in e?e[o]=r:e.setAttribute(o,r)}return e.v_destroy=()=>{if(e.v_listeners)for(let{prop:o,listener:r}of e.v_listeners){e.removeEventListener(o,r);for(let l of e.children)l.v_destroy&&l.v_destroy()}e.remove()},i&&i.appendChild(e),e},m=new Proxy(h,{get(t,n){return n==="textNode"?e=>document.createTextNode(e):h.bind(null,n)},apply(t,n,e){return t.apply(n,e)}});var E=(t,n="")=>{t.endsWith("/")&&(t=t.slice(0,-1)),n.endsWith("/")&&(n=n.slice(0,-1));let e=n.split("/"),i=t.split("/"),o={};if(e.length!=i.length)return{match:!1};for(let r=0;r<e.length;r++){let l=e[r],a=i[r];if(l.startsWith(":"))o[a.slice(1)]=a;else if(l!=a)return{match:!1}}return{match:!0,params:o}},x=async()=>{let t=window.location.pathname,n=Object.fromEntries(new URLSearchParams(window.location.search)),e=null,i=null;for(let o of f){o.default&&(e=o);let{match:r,params:l}=E(t,o.path);if(i={...n,...l},r){e=o;break}}if(e){let o={route:e,path:t,params:i,query:n};p&&await p(o),e.before&&await e.before(o);let{component:r,outlet:l}=e;l=l||s,typeof l=="string"&&(l=document.querySelector(l));let a=r(i);a instanceof Promise&&(a=await a),s.innerHTML="",a instanceof Element&&s.appendChild(a),e.after&&await e.after(o),w&&await w(o)}else console.warn('no matching route for "'+t+'"')},f=[],s=null,p=null,w=null;var c=(t,n)=>(n&&(t=t.replace(/:([^/]+)/g,(e,i)=>n[i])),t),y=t=>{typeof t=="string"&&(t={path:t});let{path:n,name:e,params:i,query:o,delta:r,replace:l}=t;if(r)return window.history.go(r);if(e){let d=f.find(v=>v.name===e);if(!d)throw new Error(`No route found with name ${e}`);n=c(d.path,i)}let a=n;return o&&(a+=new URLSearchParams(o).toString()),l?window.history.replaceState(null,"",a):window.history.pushState(null,"",a),x()};var g=()=>f;var L=t=>{if(t.name){let n=g();t.to=n.find(e=>e.name===t.name).path}return m("a",{...t,href:c(t.to,t.params),click(n){n.preventDefault(),t.click?.(n),y(t.to,t.params)}})};export{L as RouterLink};
