var s=(r,l=[])=>{for(let e of l)typeof e=="string"&&(e=document.createTextNode(e)),r.appendChild(e)},c=(r,l)=>{let e=null;r instanceof Element?e=r:r=="fragment"?e=document.createDocumentFragment():e=document.createElement(r),e.v_listeners=[];let o=null;typeof l=="string"&&(l={textContent:l}),l instanceof Array&&(l={children:l});for(let t in l){let n=l[t];if(t==="parentElement")typeof n=="string"&&(n=document.querySelector(n)),o=n;else if(t==="defineProperties")Object.defineProperties(e,n);else if(t==="style"&&typeof n=="object")Object.assign(e.style,n);else if(t==="children")s(e,n);else if(t==="shadowChildren"){let i=e.attachShadow({mode:"open",delegatesFocus:l.delegatesFocus===!0});s(i,n)}else if(typeof n=="function"){let[i,...d]=t.split("."),f={};for(let a of d)f[a]=!0;e.addEventListener(i,n,f,d.includes("capture")),e.v_listeners.push({prop:t,listener:n})}else t in e?e[t]=n:e.setAttribute(t,n)}return e.v_destroy=()=>{if(e.v_listeners)for(let{prop:t,listener:n}of e.v_listeners){e.removeEventListener(t,n);for(let i of e.children)i.v_destroy&&i.v_destroy()}e.remove()},o&&o.appendChild(e),e},u=new Proxy(c,{get(r,l){return l==="textNode"?e=>document.createTextNode(e):c.bind(null,l)},apply(r,l,e){return r.apply(l,e)}}),h=(r,l,{updateChild:e,createChild:o})=>{for(let t=0;t<l.length;t++){let n=l[t],i=r.children[t];i&&e?e(i,n,t):o&&(i=o(n,t),r.appendChild(i))}for(let t=r.children.length-1;t>=l.length;t--){let n=r.children[t];n.v_destroy?n.v_destroy():n.remove()}return r};export{c as createElement,u as default,h as updateList};
